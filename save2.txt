if (typeof Uint8Array !== 'undefined') {
    console.log("Uint8Array is supported!");
    // Example usage:
    const arr = new Uint8Array(2);
    console.log(arr);
} else {
    console.log("Uint8Array is NOT supported.");
}  
const audioCtx = new AudioContext(); 
console.log(audioCtx.state); 
var audio = new Audio("https://codehs.com/uploads/1ca205fa48224105f9196c2f16bbe828"); 
audio.controls = true; 
audio.autoplay = true;
audio.preload = "auto";  

const audioSourceNode = audioCtx.createMediaElementSource(audio);    

const analyser = audioCtx.createAnalyser();   
analyser.fftSize = 256;

const bufferLength = analyser.frequencyBinCount;
var myDataArray = new Float32Array(bufferLength);
//console.log(AudioContext()); 
audioSourceNode.connect(analyser); 
//audioCtx.connect(analyser); 
analyser.connect(audioCtx.destination);  


//var stream = new MediaStream();    
 
//window.onload = function() { 
//}
//stream.connect(track); 
//console.log(track);  
//const source = audioCtx.createMediaStreamSource(stream);
//var mediaStream = new MediaStreamAudioSourceNode(audioCtx, stream); 
//console.log(mediaStream); 

document.body.appendChild(audio);   
audio.play();  
//console.log(binCount);  
//setTimeout(play, 1000);  
//play(); 
function check() { 
    analyser.getFloatFrequencyData(myDataArray);   
    for (let i = 0; i < myDataArray.length; i++) { 
        console.log(myDataArray[i]); 
    }
    
}   
 
function play() {  
    setInterval(check, 1);  
}